$.fn.sidebar = function () {
    var d = this;
    var e = d.children(".sidebar-tabs").first();
    var f = d.children(".sidebar-content").first();
    d.find(".sidebar-tabs > li > a").on("click", function () {
        var a = $(this).closest("li");
        if (a.hasClass("active")) {
            d.close()
        } else {
            d.open(this.hash.slice(1), a)
        }
    });
    d.open = function (a, b) {
        if (typeof b === "undefined") {
            b = e.find('li > a[href="#' + a + '"]').parent()
        }
        f.children(".sidebar-pane.active").removeClass("active");
        f.children("#" + a).addClass("active");
        e.children("li.active").removeClass("active");
        b.addClass("active");
        d.trigger("content", {id: a});
        if (d.hasClass("collapsed")) {
            d.trigger("opening");
            d.removeClass("collapsed")
        }
    };
    d.close = function () {
        e.children("li.active").removeClass("active");
        if (!d.hasClass("collapsed")) {
            d.trigger("closing");
            d.addClass("collapsed")
        }
    };
    return d
};