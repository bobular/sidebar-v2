$.fn.sidebar = function () {
    var b = this;
    var a = b.children(".sidebar-tabs").first();
    var c = b.children(".sidebar-content").first();
    b.find(".sidebar-tabs > li > a").on("click", function () {
        var d = $(this).closest("li");
        if (d.hasClass("active")) {
            b.close()
        } else {
            b.open(this.hash.slice(1), d)
        }
    });
    b.open = function (e, d) {
        if (typeof d === "undefined") {
            d = a.find('li > a[href="#' + e + '"]').parent()
        }
        c.children(".sidebar-pane.active").removeClass("active");
        c.children("#" + e).addClass("active");
        a.children("li.active").removeClass("active");
        d.addClass("active");
        b.trigger("content", {id: e});
        if (b.hasClass("collapsed")) {
            b.trigger("opening");
            b.removeClass("collapsed")
        }
    };
    b.close = function () {
        a.children("li.active").removeClass("active");
        if (!b.hasClass("collapsed")) {
            b.trigger("closing");
            b.addClass("collapsed")
        }
    };
    return b
};